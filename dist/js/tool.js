!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),t.exports=n(14)},function(t,e,n){Nova.booting(function(t,e,r){e.addRoutes([{name:"nova-translation-editor",path:"/translation-editor",component:n(2)}])})},function(t,e,n){var r=n(8)(n(9),n(13),!1,function(t){n(3)},null,null);t.exports=r.exports},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(6)("2ff958df",r,!0,{})},function(t,e,n){(t.exports=n(5)(!1)).push([t.i,"tr.unused{background-color:#ffefef!important}",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(t,e,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o=n(7),a={},i=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,u=function(){},f=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function d(t){for(var e=0;e<t.length;e++){var n=t[e],r=a[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(g(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(o=0;o<n.parts.length;o++)i.push(g(n.parts[o]));a[n.id]={id:n.id,refs:1,parts:i}}}}function v(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function g(t){var e,n,r=document.querySelector("style["+h+'~="'+t.id+'"]');if(r){if(l)return u;r.parentNode.removeChild(r)}if(p){var o=c++;r=s||(s=v()),e=_.bind(null,r,o,!1),n=_.bind(null,r,o,!0)}else r=v(),e=function(t,e){var n=e.css,r=e.media,o=e.sourceMap;r&&t.setAttribute("media",r);f.ssrId&&t.setAttribute(h,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}t.exports=function(t,e,n,r){l=n,f=r||{};var i=o(t,e);return d(i),function(e){for(var n=[],r=0;r<i.length;r++){var s=i[r];(c=a[s.id]).refs--,n.push(c)}e?d(i=o(t,e)):i=[];for(r=0;r<n.length;r++){var c;if(0===(c=n[r]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete a[c.id]}}}};var m,y=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function _(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}},function(t,e){t.exports=function(t,e){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=a[0],s={id:t+":"+o,css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}},function(t,e){t.exports=function(t,e,n,r,o,a){var i,s=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(i=t,s=t.default);var l,u="function"==typeof s?s.options:s;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):r&&(l=r),l){var f=u.functional,h=f?u.render:u.beforeCreate;f?(u._injectStyles=l,u.render=function(t,e){return l.call(e),h(t,e)}):u.beforeCreate=h?[].concat(h,l):[l]}return{esModule:i,exports:s,options:u}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),o=n.n(r);e.default={mounted:function(){this.activeLocale=Nova.config.tool.default_locale,this.supportedLocales=Nova.config.tool.supported_locales,this.getTranslationGroups()},data:function(){return{initialLoading:!0,loading:!1,publishDialog:!1,group:"",translationGroups:[],translationData:[],activeLocale:"en",supportedLocales:null,search:"",previousSearch:""}},methods:{getTranslationGroups:function(){var t=this;axios.get("/nova-vendor/nova-translation-editor/translations/groups",{}).then(function(e){t.initialLoading=!1,t.translationGroups=e.data,t.listTranslations()}).catch(function(e){t.loading=!1,console.error(e)})},listTranslations:function(){var t,e=this;this.$nextTick((t=o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!0,n={search:e.search||null,locale:e.activeLocale,group:e.group||null},axios.get("/nova-vendor/nova-translation-editor/translations/",{params:n}).then(function(t){e.loading=!1,e.translationData=t.data}).catch(function(t){e.loading=!1,console.error(t)});case 3:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}("next")})}))},selectLocale:function(t){this.activeLocale=t,this.listTranslations()},performSearch:_.debounce(function(t){this.search!=this.previousSearch&&(this.previousSearch=this.search,this.listTranslations())},200),saveTranslation:function(t,e){axios.post("/nova-vendor/nova-translation-editor/translations/",{id:t.id,group:t.group,key:t.key,text:e.target.value,locale:this.activeLocale}).then(function(e){t.id=e.data.id,t.customized=e.data.customized,t.published=e.data.published,Nova.success("Translation saved")}).catch(function(t){Nova.error("Something went wrong while saving the translation"),console.error(t)})},deleteTranslation:function(t){var e=this;axios.delete("/nova-vendor/nova-translation-editor/translations/"+t.id,{}).then(function(t){e.listTranslations(),Nova.success("Translation deleted")}).catch(function(t){Nova.error("Something went wrong while deleting the translation"),console.error(t)})},publishTranslations:function(){var t=this;axios.post("/nova-vendor/nova-translation-editor/translations/publish",{}).then(function(e){t.listTranslations(),Nova.success("Published all translations")}).catch(function(t){Nova.error("Something went wrong while publishing the translations"),console.error(t)})}}}},function(t,e,n){t.exports=n(11)},function(t,e,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(12),o)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",l="object"==typeof t,u=e.regeneratorRuntime;if(u)l&&(t.exports=u);else{(u=e.regeneratorRuntime=l?t.exports:{}).wrap=x;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",v={},g={};g[i]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(R([])));y&&y!==r&&o.call(y,i)&&(g=y);var _=C.prototype=w.prototype=Object.create(g);L.prototype=_.constructor=C,C.constructor=L,C[c]=L.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===L||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(_),t},u.awrap=function(t){return{__await:t}},T(E.prototype),E.prototype[s]=function(){return this},u.AsyncIterator=E,u.async=function(t,e,n,r){var o=new E(x(t,e,n,r));return u.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},T(_),_[c]="Generator",_[i]=function(){return this},_.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=R,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return s.type="throw",s.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:R(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function x(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,a=Object.create(o.prototype),i=new k(r||[]);return a._invoke=function(t,e,n){var r=f;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw a;return O()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=N(i,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=b(t,e,n);if("normal"===c.type){if(r=n.done?d:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(t,n,i),a}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function L(){}function C(){}function T(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){var e;this._invoke=function(n,r){function a(){return new Promise(function(e,a){!function e(n,r,a,i){var s=b(t[n],t,r);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,a,i)},function(t){e("throw",t,a,i)}):Promise.resolve(l).then(function(t){c.value=t,a(c)},i)}i(s.arg)}(n,r,e,a)})}return e=e?e.then(a,a):a()}}function N(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,N(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=b(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function R(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:O}}function O(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("loading-view",{attrs:{loading:t.initialLoading}},[n("heading",{staticClass:"mb-6"},[t._v(t._s(t.__("Translations")))]),t._v(" "),n("div",{staticClass:"flex"},[n("div",{staticClass:"relative h-9 mb-6 flex-no-shrink"},[n("icon",{staticClass:"absolute search-icon-center ml-3 text-70",attrs:{type:"search"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"appearance-none form-search w-search pl-search shadow",attrs:{placeholder:"Search",type:"search"},domProps:{value:t.search},on:{keyup:t.performSearch,input:function(e){e.target.composing||(t.search=e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"flex w-full justify-end"},[n("button",{staticClass:"cursor-pointer btn btn-default btn-primary",on:{click:function(e){return e.preventDefault(),t.publishTranslations()}}},[t._v("\n                "+t._s(t.__("Publish"))+"\n            ")])])]),t._v(" "),t.loading?n("card",{staticClass:"flex flex-col items-center justify-center",staticStyle:{"min-height":"300px"}},[n("loading-view")],1):n("card",{staticClass:"flex flex-col items-center justify-center"},[n("div",{staticClass:"border-b border-50 w-full p-4"},[n("div",{staticClass:"flex items-center w-full space-x-4"},[n("div",{staticClass:"mr-4"},[t._v("\n                    "+t._s(t.__("Filter"))+"\n                ")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.group,expression:"group"}],staticClass:"block form-control-sm form-select max-w-sm",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.group=e.target.multiple?n:n[0]},function(e){return t.listTranslations()}]}},[n("option",{attrs:{value:""}},[t._v("< "+t._s(t.__("Select a group"))+" >")]),t._v(" "),t._l(t.translationGroups,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),n("div",{staticClass:"ml-auto pl-4"},t._l(t.supportedLocales,function(e){return n("a",{key:e,staticClass:"ml-3 cursor-pointer font-bold text-80 text-sm",class:{"text-primary border-b-2 border-primary":e===t.activeLocale},on:{click:function(n){return t.selectLocale(e)}}},[t._v("\n                        "+t._s(e)+"\n                    ")])}),0)])]),t._v(" "),t.translationData.length>0?[n("table",{staticClass:"table w-full",attrs:{cellpadding:"0",cellspacing:"0"}},[n("thead",[n("tr",{staticClass:"text-left"},[n("th"),t._v(" "),n("th",[t._v(t._s(t.__("Group")))]),t._v(" "),n("th",[t._v(t._s(t.__("Key")))]),t._v(" "),n("th",{staticClass:"w-1/2"},[t._v(t._s(t.__("Translation")))]),t._v(" "),n("th")])]),t._v(" "),n("tbody",t._l(t.translationData,function(e){return n("tr",{class:{unchanged:!e.customized}},[n("td",[e.customized&&!e.published?n("span",{staticClass:"rounded-full w-2 h-2 mx-2 inline-block bg-info",attrs:{title:"Published"}}):t._e()]),t._v(" "),n("td",[t._v(t._s(e.group))]),t._v(" "),n("td",[t._v(t._s(e.key))]),t._v(" "),n("td",[n("textarea",{staticClass:"w-full form-control form-input form-input-bordered py-3 h-auto my-3",attrs:{rows:"1",placeholder:e.placeholder},on:{change:function(n){return t.saveTranslation(e,n)}}},[t._v(t._s(e.text))])]),t._v(" "),n("td",[e.customized?n("button",{staticClass:"inline-flex appearance-none cursor-pointer text-70 hover:text-primary mr-3 has-tooltip",on:{click:function(n){return n.preventDefault(),t.deleteTranslation(e)}}},[n("svg",{staticClass:"fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-labelledby":"delete",role:"presentation"}},[n("path",{attrs:{"fill-rule":"nonzero",d:"M6 4V2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2h5a1 1 0 0 1 0 2h-1v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6H1a1 1 0 1 1 0-2h5zM4 6v12h12V6H4zm8-2V2H8v2h4zM8 8a1 1 0 0 1 1 1v6a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1zm4 0a1 1 0 0 1 1 1v6a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1z"}})])]):t._e()])])}),0)])]:n("div",{staticClass:"flex flex-col items-center justify-center",staticStyle:{"min-height":"300px"}},[n("p",[t._v("No translations found for these criteria.")])])],2),t._v(" "),t.publishDialog?n("translation-publish-dialog"):t._e()],1)},staticRenderFns:[]}},function(t,e){}]);